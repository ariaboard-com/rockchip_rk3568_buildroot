config BR2_PACKAGE_LIBMALI
	bool "rockchip libmali"
	depends on BR2_TOOLCHAIN_USES_GLIBC
	depends on BR2_aarch64 || (BR2_ARM_EABIHF && BR2_arm)
	select BR2_PACKAGE_LIBDRM
	select BR2_PACKAGE_HAS_LIBEGL if !BR2_PACKAGE_LIBMALI_ONLY_CL
	select BR2_PACKAGE_HAS_LIBGLES if !BR2_PACKAGE_LIBMALI_ONLY_CL
	select BR2_PACKAGE_HAS_LIBOPENCL if !BR2_PACKAGE_LIBMALI_WITHOUT_CL
	select BR2_PACKAGE_HAS_LIBEGL_WAYLAND if !BR2_PACKAGE_LIBMALI_ONLY_CL && \
		!BR2_PACKAGE_LIBMALI_DUMMY
	help
	  Install the binary user-space library for the ARM Mali GPU.
	  This package requires a kernel with the ARM Mali GPU Kernel
	  Drivers enabled.

if BR2_PACKAGE_LIBMALI

config BR2_PACKAGE_PROVIDES_LIBEGL
	default "libmali" if !BR2_PACKAGE_LIBMALI_ONLY_CL

config BR2_PACKAGE_PROVIDES_LIBGLES
	default "libmali" if !BR2_PACKAGE_LIBMALI_ONLY_CL

# NOTE: utgard doesn't provide opencl
config BR2_PACKAGE_PROVIDES_LIBOPENCL
	default "libmali" if !BR2_PACKAGE_LIBMALI_WITHOUT_CL

config BR2_PACKAGE_LIBMALI_WITHOUT_CL
	depends on !BR2_PACKAGE_LIBMALI_ONLY_CL
	bool "libmali without opencl"
	help
	  Select libmali without OpenCL.

config BR2_PACKAGE_LIBMALI_ONLY_CL
	bool "libmali with opencl only(also disable display features)"
	help
	  Select libmali with OpenCL only.

config BR2_PACKAGE_LIBMALI_DUMMY
	bool "libmali with dummy platform"
	help
	  Select libmali with dummy platform.
endif
